<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Mik is learning</title>
  <link rel="stylesheet" href="style.css?v=2">
  <!-- MathJax for rendering LaTeX formulas -->
  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script id="MathJax-script" async
    src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
  </script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Caveat:wght@400;700&amp;display=swap" rel="stylesheet">
</head>

<body>
  <header>
    <button class="menu-toggle" aria-label="Toggle navigation">☰</button>
    <h1>Mik is learning</h1>
  </header>

<div class="container">
  <nav id="sidebar">
    <ul>
      <li><a href="index.html" class="active">Home</a></li>
      <li><a href="blog.html">Blog</a></li>
      <li><a href="about.html">About</a></li>
    </ul>
  </nav>

    <main>
      <section class="intro">
        <h2>Welcome, traveler!</h2>
        <p>this is Mik writing. Let me guide you through the content of this narrow corner of the web. As I told you, I'm Mik, a guy trying to learn how the world works in many of its different facets. This website was born with the very human intention of sharing my (limited) knowledge with my contemporaries.</p>
        <p>Mostly, you'll find physics and computer sience related stuff here.</p>
        <p>From time to time, I also enjoy writing about arts and philosophy—even if I’m far from an expert. I hope you’ll find something here that sparks your curiosity.</p>
        <p>Well, enough talk, I’ll let you get back to your exploring.<br>Fair winds on yer journey!</p>
        <p>$$ E = mc $$ $$\\Xi_\\rho (P) = \\sum \\frac{Tr^2(P \\rho)}{d}$$</p>
      </section>

      <div class="section-divider" aria-hidden="true"></div>

      <section class="latest-posts">
        <h3>Latest posts</h3>
        <div class="posts-grid" id="latest-posts-grid" aria-live="polite"></div>
      </section>
    </main>
  </div>

  <footer>
    <p>&copy; 2025 Mik is learning</p>
  </footer>
  
  <script>
  const toggleBtn = document.querySelector(".menu-toggle");
  const sidebar = document.querySelector("nav");
  let overlay = document.createElement("div");
  overlay.className = "menu-overlay";
  document.body.appendChild(overlay);
  
  toggleBtn.addEventListener("click", () => {
    sidebar.classList.toggle("active");
    overlay.classList.toggle("active");
    toggleBtn.classList.toggle("hidden");
  });
  
  overlay.addEventListener("click", () => {
    sidebar.classList.remove("active");
    overlay.classList.remove("active");
    toggleBtn.classList.remove("hidden");
  });

  // Populate latest posts grid from manifest (fallbacks for file:// viewing)
  const fallbackPosts = [
    {
      title: "Inside the event horizon",
      category: "Black holes",
      date: "2025-01-11",
      datePretty: "Jan 2025",
      url: "posts/post-11.html",
      image: "supermassive-black-hole.jpg",
      imageAlt: "Supermassive black hole",
      description: "Notes on the Schwarzschild radius and the boundary of no return.",
      content: "Black holes stretch intuition: time slows, spacetime curves, signals cannot escape beyond the event horizon. Energy, mass, and information near the boundary; Schwarzschild radius scales with mass."
    },
    {
      title: "Jellyfish jam lessons",
      category: "Cartoons",
      date: "2025-01-10",
      datePretty: "Jan 2025",
      url: "posts/post-10.html",
      image: "spongebob.svg",
      imageAlt: "SpongeBob placeholder illustration",
      description: "Jellyfishing joy, bounded chaos, and keeping feedback loops short.",
      content: "Jellyfishing with SpongeBob: playful experiments with a plan so chaos stays bounded. In coding terms, keep feedback loops short—try, observe, adjust."
    },
    {
      title: "SpongeBob curiosity",
      category: "Cartoons",
      date: "2025-01-09",
      datePretty: "Jan 2025",
      url: "posts/post-9.html",
      image: "spongebob.svg",
      imageAlt: "SpongeBob placeholder illustration",
      description: "Curiosity as a multiplier—simple questions that shake assumptions.",
      content: "SpongeBob asks simple questions that flip situations. Probe assumptions before calculations or code. Curiosity multiplies connections as exposure grows."
    },
    {
      title: "Patrick wisdom",
      category: "Cartoons",
      date: "2025-01-08",
      datePretty: "Jan 2025",
      url: "posts/post-8.html",
      image: "patrick.svg",
      imageAlt: "Patrick placeholder illustration",
      description: "Patrick’s simple questions meet a scaling-law aside.",
      content: "Patrick reminds us simple questions can reveal the most. Starfish area to volume ratio shrinks as size grows; curiosity scales the other way."
    },
    {
      title: "A sponge moment",
      category: "Cartoons",
      date: "2025-01-07",
      datePretty: "Jan 2025",
      url: "posts/post-7.html",
      image: "spongebob.svg",
      imageAlt: "SpongeBob placeholder illustration",
      description: "Cartoon detour with SpongeBob cheer and a quick surface-to-volume math note."
    },
    {
      title: "New post",
      category: "Physics note",
      date: "2025-01-06",
      datePretty: "Jan 2025",
      url: "posts/post-1.html",
      image: "supermassive-black-hole.jpg",
      imageAlt: "Supermassive black hole",
      description: "Quick note on energy and mass—short derivation and context."
    },
    {
      title: "New post",
      category: "Quick update",
      date: "2025-01-05",
      datePretty: "Jan 2025",
      url: "posts/post-2.html",
      image: "neocities.png",
      imageAlt: "Abstract placeholder",
      description: "Brief status update and notes from the week."
    },
    {
      title: "New post",
      category: "Experiments",
      date: "2025-01-04",
      datePretty: "Jan 2025",
      url: "posts/post-3.html",
      image: "neocities.png",
      imageAlt: "Abstract placeholder",
      description: "Lab experiments log with a Gaussian integral reminder."
    },
    {
      title: "Another post",
      category: "Lab notes",
      date: "2025-01-03",
      datePretty: "Jan 2025",
      url: "posts/post-4.html",
      image: "neocities.png",
      imageAlt: "Lab equipment",
      description: "Notes from the lab bench and ongoing measurements."
    },
    {
      title: "Another post",
      category: "Coding log",
      date: "2025-01-02",
      datePretty: "Jan 2025",
      url: "posts/post-5.html",
      image: "neocities.png",
      imageAlt: "Coding log",
      description: "Coding progress and a couple of debugging wins."
    },
    {
      title: "Another post",
      category: "Field work",
      date: "2025-01-01",
      datePretty: "Jan 2025",
      url: "posts/post-6.html",
      image: "neocities.png",
      imageAlt: "Field landscape",
      description: "Field notes from recent observations."
    }
  ];

  const postsGrid = document.getElementById("latest-posts-grid");

  const renderPosts = (posts) => {
    const sorted = posts
      .slice()
      .sort((a, b) => new Date(b.date) - new Date(a.date))
      .slice(0, 6);

    if (!sorted.length) {
      postsGrid.innerHTML = "<p class=\"post-description\">No posts yet—check back soon.</p>";
      return;
    }

    postsGrid.innerHTML = "";
    sorted.forEach((post) => {
      const card = document.createElement("article");
      card.className = "post-card";
      card.innerHTML = `
        ${post.image ? `<img class="post-image" src="${post.image}" alt="${post.imageAlt || post.title}">` : ""}
        <h3>${post.title}</h3>
        <p class="post-meta">${post.datePretty || post.date} · ${post.category || ""}</p>
        <p class="post-description">${post.description || ""}</p>
        <a class="read-more" href="${post.url}">Read more →</a>
      `;
      postsGrid.appendChild(card);
    });
  };

  fetch("posts/manifest.json")
    .then((res) => res.json())
    .then((data) => {
      if (data && Array.isArray(data.posts) && data.posts.length) {
        renderPosts(data.posts);
      } else {
        renderPosts(fallbackPosts);
      }
    })
    .catch((err) => {
      console.error("Failed to load posts manifest", err);
      renderPosts(fallbackPosts);
    });
  </script>



</body>
</html>
